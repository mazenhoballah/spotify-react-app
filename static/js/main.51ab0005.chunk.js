(this["webpackJsonpspotify-music-search-app"]=this["webpackJsonpspotify-music-search-app"]||[]).push([[0],{113:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(10),r=a.n(s),i=a(24),o=(a(83),a(13)),l=a(148),p=a.p+"static/media/spotify.8eecc546.svg",j=a.p+"static/media/spotifyBlack.2afdad89.svg",u=(a(84),a(4)),d=function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],s=a[1],r=Object({NODE_ENV:"production",PUBLIC_URL:"/spotify-react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORIZE_URL:"https://accounts.spotify.com/authorize",REACT_APP_CLIENT_ID:"539b475c7e864968bb2c72ba004fe08f",REACT_APP_REDIRECT_URL:"https://mazenhoballah.github.io/spotify-react-app/redirect"}),i=(r.REACT_APP_CLIENT_ID,r.REACT_APP_AUTHORIZE_URL),d=r.REACT_APP_REDIRECT_URL,h=function(){s(!n)};return Object(u.jsx)("div",{className:"login",children:Object(u.jsxs)(l.a,{variant:"contained",color:"primary",className:"btn-color",onClick:function(){window.location="".concat(i,"?client_id=").concat("539b475c7e864968bb2c72ba004fe08f","&redirect_uri=").concat(d,"&response_type=token&show_dialog=true")},onMouseEnter:h,onMouseLeave:h,children:["Login using Spotify",n?Object(u.jsx)("img",{src:j,alt:"",className:"icon"}):Object(u.jsx)("img",{src:p,alt:"",className:"icon"})]})})},h=a(39),m=a(27),b=a(62),f=a(61),O=a(59),x=a.n(O),v=a(40),g=a.n(v),y=function(){try{var e=JSON.parse(localStorage.getItem("params"));e&&(g.a.defaults.headers.common.Authorization="Bearer ".concat(e.access_token))}catch(t){console.log("Error setting auth",t)}},_=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,a=e.location;try{if(x.a.isEmpty(a.hash))return t.push("/spotify-react-app/search");var c=a.hash.slice(1).split("&").reduce((function(e,t){var a=t.split("="),c=Object(o.a)(a,2),n=c[0],s=c[1];return e[n]=s,e}),{}),n=(new Date).getTime()+1e3*c.expires_in;localStorage.setItem("params",JSON.stringify(c)),localStorage.setItem("expiry_time",n),t.push("/spotify-react-app/search")}catch(s){t.push("/spotify-react-app")}}},{key:"render",value:function(){return null}}]),a}(n.a.Component),E=function(){return Object(u.jsx)("h1",{className:"main-heading",children:"Spotify Music Search"})},N=function(){return Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)(E,{}),"Page not found. Go to ",Object(u.jsx)(i.b,{to:"/",children:"Home Page"})]})},S=a(23),R=a.n(S),T=a(29),w=a(160),A=function(){var e=Object(T.a)(R.a.mark((function e(t,a){var c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(),e.next=3,g.a.get(t,a);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),C=(a(113),a(154)),P=a(155),I=a(157),k=a(156),L=a(158),D=a(152),U=a(153),W=a(161),B=Object(D.a)({root:{width:270,marginTop:"40px",marginLeft:"15px",marginRight:"15px",height:400},media:{height:240,width:300}}),H=function(e){var t=B(),a=Object(c.useState)(""),n=Object(o.a)(a,2),s=n[0],r=n[1],p=Object(c.useState)({}),j=Object(o.a)(p,2),d=j[0],h=j[1],m=Object(c.useState)(""),b=Object(o.a)(m,2),f=(b[0],b[1]),O=function(){var e=Object(T.a)(R.a.mark((function e(){var t,a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h({}),e.prev=1,t=encodeURIComponent(s),a="https://api.spotify.com/v1/search?q=".concat(t.toLocaleUpperCase(),"&type=artist"),e.next=6,A(a);case 6:c=e.sent,h(c),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){console.log("TOKEN => ",localStorage.getItem("params").split(",")[0].split(":")[1])}),[]),Object(c.useEffect)((function(){console.log("items=>",d)}),[d]),Object(c.useEffect)((function(){return""!==s.trim()?(f(""),O()):f("Please enter a search term."),function(){r("")}}),[s]),Object(u.jsxs)(U.a,{maxWidth:"lg",children:[Object(u.jsxs)("div",{className:"search-container",children:[Object(u.jsx)("div",{className:"btn-cont",children:Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)(l.a,{variant:"contained",color:"default",className:"logout-btn",children:"Logout"})})}),Object(u.jsx)("div",{children:Object(u.jsx)(w.a,{id:"outlined-search",label:"Search for an artist",type:"search",variant:"outlined",className:"search-field",onChange:function(e){var t=e.target.value;r(t)}})})]}),Object(u.jsx)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",margin:"0 auto"},children:d.artists?d.artists.items.map((function(e,a){return Object(u.jsx)("div",{children:Object(u.jsx)(i.b,{to:{pathname:"/".concat(e.id,"/albums"),artistName:e.name},className:"link",children:Object(u.jsx)(C.a,{className:t.root,children:Object(u.jsxs)(P.a,{children:[e.images[0]?Object(u.jsx)(k.a,{className:t.media,image:e.images[0].url,title:e.name}):Object(u.jsx)(k.a,{className:t.media,title:e.name}),Object(u.jsxs)(I.a,{children:[Object(u.jsx)(L.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),Object(u.jsx)(L.a,{variant:"body2",color:"textSecondary",component:"p",children:e.followers.total}),Object(u.jsx)(W.a,{name:"read-only",value:e.popularity/20,readOnly:!0,style:{paddingTop:"10px"}})]})]})})})},a)})):Object(u.jsx)("div",{})})]})},z=a(9),J=(a(115),a(159)),K=Object(D.a)({root:{width:270,marginTop:"40px",marginLeft:"15px",marginRight:"15px",display:"flex",flexDirection:"column"},media:{height:240,width:300}}),M=function(){var e=K(),t=Object(z.f)().artistId,a=Object(c.useState)({}),n=Object(o.a)(a,2),s=n[0],r=n[1],i=function(){var e=Object(T.a)(R.a.mark((function e(){var a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({}),e.prev=1,a="https://api.spotify.com/v1/artists/".concat(t,"/albums"),e.next=5,A(a);case 5:c=e.sent,console.log("albums => ",c.items),r(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("ERROR=>",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){i()}),[]),Object(u.jsx)("div",{children:s.items?Object(u.jsxs)("div",{className:"title-container",children:[Object(u.jsx)(U.a,{maxWidth:"lg",children:Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("h1",{children:s.items[0].artists[0].name}),Object(u.jsx)("h3",{children:"Albums"})]})}),Object(u.jsx)(U.a,{maxWidth:"lg",children:Object(u.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:s.items.map((function(t,a){return Object(u.jsxs)(C.a,{className:e.root,children:[Object(u.jsxs)(P.a,{className:"card-body",children:[Object(u.jsx)(k.a,{className:e.media,image:t.images[0].url}),Object(u.jsxs)(I.a,{children:[Object(u.jsx)(L.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(u.jsx)(L.a,{variant:"body2",color:"textSecondary",component:"p",children:t.release_date}),Object(u.jsxs)(L.a,{variant:"body2",color:"textSecondary",component:"p",children:[t.total_tracks," Tracks"]})]})]}),Object(u.jsx)(J.a,{className:"actions",children:Object(u.jsx)(l.a,{size:"small",color:"primary",href:t.external_urls.spotify,className:"link",children:"Preview on Spotify"})})]},a)}))})})]}):Object(u.jsx)("div",{})})};a(116);var F=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(z.c,{children:[Object(u.jsx)(z.a,{exact:!0,path:"/spotify-react-app",component:d}),Object(u.jsx)(z.a,{exact:!0,path:"/spotify-react-app/redirect",component:_}),Object(u.jsx)(z.a,{exact:!0,path:"/spotify-react-app/search",component:H}),Object(u.jsx)(z.a,{exact:!0,path:"/spotify-react-app/:artistId/albums",component:M}),Object(u.jsx)(z.a,{component:N})]})})};r.a.render(Object(u.jsx)(i.a,{children:Object(u.jsx)(F,{})}),document.getElementById("root"))},83:function(e,t,a){},84:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.51ab0005.chunk.js.map