(this["webpackJsonpspotify-music-search-app"]=this["webpackJsonpspotify-music-search-app"]||[]).push([[0],{113:function(t,e,a){},115:function(t,e,a){},116:function(t,e,a){},117:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a.n(c),s=a(10),r=a.n(s),i=a(24),o=(a(83),a(13)),l=a(148),p=a.p+"static/media/spotify.8eecc546.svg",h=a.p+"static/media/spotifyBlack.2afdad89.svg",u=(a(84),a(4)),j=function(t){var e=Object(c.useState)(!1),a=Object(o.a)(e,2),n=a[0],s=a[1],r=Object({NODE_ENV:"production",PUBLIC_URL:"/spotify-react-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTHORIZE_URL:"https://accounts.spotify.com/authorize",REACT_APP_CLIENT_ID:"4ea6f57b26de4916a4c97018076133c2",REACT_APP_REDIRECT_URL:"https://mazenhoballah.github.io/spotify-react-app/redirect"}),i=(r.REACT_APP_CLIENT_ID,r.REACT_APP_AUTHORIZE_URL),j=r.REACT_APP_REDIRECT_URL,m=function(){s(!n)};return Object(u.jsx)("div",{className:"login",children:Object(u.jsxs)(l.a,{variant:"contained",color:"primary",className:"btn-color",onClick:function(){window.location="".concat(i,"?client_id=").concat("539b475c7e864968bb2c72ba004fe08f","&redirect_uri=").concat(j,"&response_type=token&show_dialog=true")},onMouseEnter:m,onMouseLeave:m,children:["Login using Spotify",n?Object(u.jsx)("img",{src:h,alt:"",className:"icon"}):Object(u.jsx)("img",{src:p,alt:"",className:"icon"})]})})},m=a(39),d=a(27),b=a(62),O=a(61),f=a(59),x=a.n(f),g=a(40),v=a.n(g),y=function(){try{var t=JSON.parse(localStorage.getItem("params"));t&&(v.a.defaults.headers.common.Authorization="Bearer ".concat(t.access_token))}catch(e){console.log("Error setting auth",e)}},_=function(t){Object(b.a)(a,t);var e=Object(O.a)(a);function a(){return Object(m.a)(this,a),e.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var t=this.props,e=t.history,a=t.location;try{if(x.a.isEmpty(a.hash))return e.push("/search");var c=a.hash.slice(1).split("&").reduce((function(t,e){var a=e.split("="),c=Object(o.a)(a,2),n=c[0],s=c[1];return t[n]=s,t}),{}),n=(new Date).getTime()+1e3*c.expires_in;localStorage.setItem("params",JSON.stringify(c)),localStorage.setItem("expiry_time",n),e.push("https://mazenhoballah.github.io/spotify-react-app/search")}catch(s){e.push("/")}}},{key:"render",value:function(){return null}}]),a}(n.a.Component),E=function(){return Object(u.jsx)("h1",{className:"main-heading",children:"Spotify Music Search"})},N=function(){return Object(u.jsxs)(n.a.Fragment,{children:[Object(u.jsx)(E,{}),"Page not found. Go to ",Object(u.jsx)(i.b,{to:"/",children:"Home Page"})]})},S=a(23),R=a.n(S),T=a(29),w=a(160),A=function(){var t=Object(T.a)(R.a.mark((function t(e,a){var c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(),t.next=3,v.a.get(e,a);case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),C=(a(113),a(154)),P=a(155),I=a(157),k=a(156),L=a(158),D=a(152),U=a(153),z=a(161),W=Object(D.a)({root:{width:270,marginTop:"40px",marginLeft:"15px",marginRight:"15px",height:400},media:{height:240,width:300}}),B=function(t){var e=W(),a=Object(c.useState)(""),n=Object(o.a)(a,2),s=n[0],r=n[1],p=Object(c.useState)({}),h=Object(o.a)(p,2),j=h[0],m=h[1],d=Object(c.useState)(""),b=Object(o.a)(d,2),O=(b[0],b[1]),f=function(){var t=Object(T.a)(R.a.mark((function t(){var e,a,c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m({}),t.prev=1,e=encodeURIComponent(s),a="https://api.spotify.com/v1/search?q=".concat(e.toLocaleUpperCase(),"&type=artist"),t.next=6,A(a);case 6:c=t.sent,m(c),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(1);case 12:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){console.log("TOKEN => ",localStorage.getItem("params").split(",")[0].split(":")[1])}),[]),Object(c.useEffect)((function(){console.log("items=>",j)}),[j]),Object(c.useEffect)((function(){return""!==s.trim()?(O(""),f()):O("Please enter a search term."),function(){r("")}}),[s]),Object(u.jsxs)(U.a,{maxWidth:"lg",children:[Object(u.jsxs)("div",{className:"search-container",children:[Object(u.jsx)("div",{className:"btn-cont",children:Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)(l.a,{variant:"contained",color:"default",className:"logout-btn",children:"Logout"})})}),Object(u.jsx)("div",{children:Object(u.jsx)(w.a,{id:"outlined-search",label:"Search for an artist",type:"search",variant:"outlined",className:"search-field",onChange:function(t){var e=t.target.value;r(e)}})})]}),Object(u.jsx)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap",margin:"0 auto"},children:j.artists?j.artists.items.map((function(t,a){return Object(u.jsx)("div",{children:Object(u.jsx)(i.b,{to:{pathname:"/".concat(t.id,"/albums"),artistName:t.name},className:"link",children:Object(u.jsx)(C.a,{className:e.root,children:Object(u.jsxs)(P.a,{children:[t.images[0]?Object(u.jsx)(k.a,{className:e.media,image:t.images[0].url,title:t.name}):Object(u.jsx)(k.a,{className:e.media,title:t.name}),Object(u.jsxs)(I.a,{children:[Object(u.jsx)(L.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(u.jsx)(L.a,{variant:"body2",color:"textSecondary",component:"p",children:t.followers.total}),Object(u.jsx)(z.a,{name:"read-only",value:t.popularity/20,readOnly:!0,style:{paddingTop:"10px"}})]})]})})})},a)})):Object(u.jsx)("div",{})})]})},H=a(9),J=(a(115),a(159)),K=Object(D.a)({root:{width:270,marginTop:"40px",marginLeft:"15px",marginRight:"15px",display:"flex",flexDirection:"column"},media:{height:240,width:300}}),M=function(){var t=K(),e=Object(H.f)().artistId,a=Object(c.useState)({}),n=Object(o.a)(a,2),s=n[0],r=n[1],i=function(){var t=Object(T.a)(R.a.mark((function t(){var a,c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({}),t.prev=1,a="https://api.spotify.com/v1/artists/".concat(e,"/albums"),t.next=5,A(a);case 5:c=t.sent,console.log("albums => ",c.items),r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("ERROR=>",t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){i()}),[]),Object(u.jsx)("div",{children:s.items?Object(u.jsxs)("div",{className:"title-container",children:[Object(u.jsx)(U.a,{maxWidth:"lg",children:Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)("h1",{children:s.items[0].artists[0].name}),Object(u.jsx)("h3",{children:"Albums"})]})}),Object(u.jsx)(U.a,{maxWidth:"lg",children:Object(u.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:s.items.map((function(e,a){return Object(u.jsxs)(C.a,{className:t.root,children:[Object(u.jsxs)(P.a,{className:"card-body",children:[Object(u.jsx)(k.a,{className:t.media,image:e.images[0].url}),Object(u.jsxs)(I.a,{children:[Object(u.jsx)(L.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),Object(u.jsx)(L.a,{variant:"body2",color:"textSecondary",component:"p",children:e.release_date}),Object(u.jsxs)(L.a,{variant:"body2",color:"textSecondary",component:"p",children:[e.total_tracks," Tracks"]})]})]}),Object(u.jsx)(J.a,{className:"actions",children:Object(u.jsx)(l.a,{size:"small",color:"primary",href:e.external_urls.spotify,className:"link",children:"Preview on Spotify"})})]},a)}))})})]}):Object(u.jsx)("div",{})})};a(116);var F=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(H.c,{children:[Object(u.jsx)(H.a,{exact:!0,path:"https://mazenhoballah.github.io/spotify-react-app/",component:j}),Object(u.jsx)(H.a,{exact:!0,path:"https://mazenhoballah.github.io/spotify-react-app/redirect",component:_}),Object(u.jsx)(H.a,{exact:!0,path:"https://mazenhoballah.github.io/spotify-react-app/search",component:B}),Object(u.jsx)(H.a,{exact:!0,path:"https://mazenhoballah.github.io/spotify-react-app/:artistId/albums",component:M}),Object(u.jsx)(H.a,{component:N})]})})};r.a.render(Object(u.jsx)(i.a,{children:Object(u.jsx)(F,{})}),document.getElementById("root"))},83:function(t,e,a){},84:function(t,e,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.c302a4ad.chunk.js.map